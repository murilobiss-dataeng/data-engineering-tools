# ===========================================
# MB-OFERTAS - Variáveis de ambiente
# Copie para .env e preencha com seus dados
# ===========================================

# --- PostgreSQL (Supabase) ---
# Obrigatório para migrations e API. Pegue em: Supabase → Project Settings → Database → Connection string (URI).
# Use "Connection pooling" (porta 6543) ou "Direct connection" (5432). Substitua [YOUR-PASSWORD] pela senha do banco.
DATABASE_URL=postgresql://postgres.[PROJECT-REF]:[YOUR-PASSWORD]@aws-0-[REGION].pooler.supabase.com:6543/postgres

# Supabase API (opcional – para Auth ou PostgREST no futuro)
# Supabase → Project Settings → API: Project URL, anon key, service_role key
SUPABASE_URL=https://xxxx.supabase.co
SUPABASE_ANON_KEY=eyJ...
SUPABASE_SERVICE_ROLE_KEY=eyJ...

# --- Redis (filas e cache) ---
REDIS_URL=redis://localhost:6379

# --- Amazon (Afiliados) ---
# Product Advertising API (se aprovado) ou deixe vazio para scraping
AMAZON_ACCESS_KEY=
AMAZON_SECRET_KEY=
AMAZON_PARTNER_TAG=seu-tag-afiliado-20
AMAZON_REGION=br1

# --- WhatsApp Business API ---
# Ex: Twilio, 360dialog, etc. - use o que seu provedor exigir
WHATSAPP_ACCOUNT_SID=
WHATSAPP_AUTH_TOKEN=
WHATSAPP_PHONE_NUMBER_ID=
WHATSAPP_FROM_NUMBER=+5511999999999

# --- Limites e segurança ---
MAX_MESSAGES_PER_MINUTE=10
MAX_MESSAGES_PER_DAY=500
DELAY_BETWEEN_MESSAGES_MS=6000
RATE_LIMIT_WINDOW_MS=60000

# --- Encurtador (opcional) ---
BITLY_ACCESS_TOKEN=
SHORTENER_PROVIDER=internal

# --- App ---
NODE_ENV=development
API_PORT=4000
LOG_LEVEL=info
CRON_ENABLED=true
